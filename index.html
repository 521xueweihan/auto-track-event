<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Auto-track-event by ufologist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?df36db59b53e54599a55b735870da564";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Auto-track-event</h1>
      <h2 class="project-tagline">让页面元素自动具有事件跟踪功能</h2>
      <a href="https://github.com/ufologist/auto-track-event" class="btn">View on GitHub</a>
      <a href="https://github.com/ufologist/auto-track-event/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ufologist/auto-track-event/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="auto-track-event" class="anchor" href="#auto-track-event" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>auto-track-event</h1>

<p>让页面元素自动具有事件跟踪功能, 即前端自动打点, 自动监听页面元素的事件(click)并发送事件跟踪消息</p>

<p>即可以统计某些元素被用户使用了多少次, 例如注册按钮被点击了 1024 次</p>

<h2>
<a id="事件跟踪主要是为了做效果评估" class="anchor" href="#%E4%BA%8B%E4%BB%B6%E8%B7%9F%E8%B8%AA%E4%B8%BB%E8%A6%81%E6%98%AF%E4%B8%BA%E4%BA%86%E5%81%9A%E6%95%88%E6%9E%9C%E8%AF%84%E4%BC%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>事件跟踪主要是为了做效果评估</h2>

<ul>
<li>某个新功能上线后, 可以看下新功能是否有用户点击, 以此来评估新功能是否够醒目, 用户是否知道新功能上线了</li>
<li>某个旧功能做优化, 优化后是否提升了用户的使用度</li>
<li>某个按钮是放在这里点击率高些, 还是放那里点击率高些, 做效果的对比</li>
</ul>

<h2>
<a id="依赖" class="anchor" href="#%E4%BE%9D%E8%B5%96" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>依赖</h2>

<ul>
<li>百度统计</li>
<li>jQuery | Zepto</li>
</ul>

<h2>
<a id="使用方法" class="anchor" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>使用方法</h2>

<ol>
<li>
<p>在 head 结束前添加百度统计代码(已加的可以跳过)</p>

<div class="highlight highlight-text-html-basic"><pre><span class="pl-s1">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s1"><span class="pl-k">var</span> _hmt <span class="pl-k">=</span> _hmt <span class="pl-k">||</span> [];</span>
<span class="pl-s1">(<span class="pl-k">function</span>() {</span>
<span class="pl-s1">    <span class="pl-k">var</span> hm <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">createElement</span>(<span class="pl-s"><span class="pl-pds">"</span>script<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">    <span class="pl-smi">hm</span>.<span class="pl-smi">src</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>//hm.baidu.com/hm.js?{你的百度统计ID}<span class="pl-pds">"</span></span>;</span>
<span class="pl-s1">    <span class="pl-k">var</span> s <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">getElementsByTagName</span>(<span class="pl-s"><span class="pl-pds">"</span>script<span class="pl-pds">"</span></span>)[<span class="pl-c1">0</span>]; </span>
<span class="pl-s1">    <span class="pl-smi">s</span>.<span class="pl-c1">parentNode</span>.<span class="pl-c1">insertBefore</span>(hm, s);</span>
<span class="pl-s1">})();</span>
<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>
</li>
<li>
<p>在页面底部(body 结束前)添加 jQuery 或者 Zepto(已加的可以跳过)</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>//cdn.bootcss.com/jquery/1.11.1/jquery.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>
</li>
<li>
<p>在页面底部(body 结束前)添加 auto-track-event.js</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>//rawgit.com/ufologist/auto-track-event/master/auto-track-event.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>
</li>
<li>
<p>给需要做事件跟踪的元素设置自定义属性 data-track-event</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">data-track-event</span>&gt;千万别点我&lt;/<span class="pl-ent">button</span>&gt;</pre></div>

<p><button type="button" data-track-event>千万别点我</button> 点我试试看</p>
</li>
<li>更多关于 data-track-event 属性的设置请参考 <a href="https://github.com/ufologist/auto-track-event/blob/master/auto-track-event.js">auto-track-event.js 源码</a>
</li>
</ol>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ufologist/auto-track-event">Auto-track-event</a> is maintained by <a href="https://github.com/ufologist">ufologist</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  <script src="//cdn.bootcss.com/jquery/1.11.1/jquery.js"></script>
  <script src="//rawgit.com/ufologist/auto-track-event/master/auto-track-event.js"></script>
  </body>
</html>
